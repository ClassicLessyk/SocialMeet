{"ast":null,"code":"var _jsxFileName = \"C:\\\\Kursova_prject\\\\client\\\\src\\\\components\\\\Posts\\\\Post\\\\Post.js\";\nimport React from \"react\";\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography } from \"@material-ui/core\";\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport ThumbUpAltOutlined from '@material-ui/icons/ThumbUpAltOutlined';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport moment from 'moment';\nimport useStyles from \"./styles\";\nimport { useDispatch } from 'react-redux';\nimport { deletePost, likePost } from \"../../../actions/posts\";\nconst user = JSON.parse(localStorage.getItem('profile'));\nconst Post = _ref => {\n  var _user$result2;\n  let {\n    post,\n    setCurrentId\n  } = _ref;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const Likes = () => {\n    if (post.likes.length > 0) {\n      return post.likes.find(like => {\n        var _user$result;\n        return like === (user === null || user === void 0 ? void 0 : (_user$result = user.result) === null || _user$result === void 0 ? void 0 : _user$result._id);\n      }) ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ThumbUpAltIcon, {\n        fontSize: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 17\n        }\n      }), \"\\xA0\", post.likes.length > 2 ? `You and ${post.likes.length - 1} others` : `${post.likes.length} like${post.likes.length > 1 ? 's' : ''}`) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ThumbUpAltOutlined, {\n        fontSize: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 17\n        }\n      }), \"\\xA0\", post.likes.length, \" \", post.likes.length === 1 ? 'Like' : 'Likes');\n    }\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ThumbUpAltOutlined, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 18\n      }\n    }), \"\\xA0Like\");\n  };\n  return /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardMedia, {\n    className: classes.media,\n    image: post.selectedFile,\n    title: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.overlay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, post.name), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }, moment(post.cretedAt).fromNow())), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.overlay2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      color: 'white'\n    },\n    size: \"small\",\n    onClick: () => setCurrentId(post._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MoreHorizIcon, {\n    fontSize: \"medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, post.tags.map(tag => `#${tag} `))), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    variant: \"h5\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, post.title), /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, post.message)), /*#__PURE__*/React.createElement(CardActions, {\n    className: classes.cardActions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    color: \"primary\",\n    disabled: !(user === null || user === void 0 ? void 0 : user.result),\n    onClick: () => dispatch(likePost(post._id)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Likes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  })), (user === null || user === void 0 ? void 0 : (_user$result2 = user.result) === null || _user$result2 === void 0 ? void 0 : _user$result2._id) === (post === null || post === void 0 ? void 0 : post.creator) && /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    color: \"primary\",\n    onClick: () => dispatch(deletePost(post._id)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }), \"Delete\")));\n};\nexport default Post;","map":{"version":3,"names":["React","Card","CardActions","CardContent","CardMedia","Button","Typography","ThumbUpAltIcon","ThumbUpAltOutlined","DeleteIcon","MoreHorizIcon","moment","useStyles","useDispatch","deletePost","likePost","user","JSON","parse","localStorage","getItem","Post","post","setCurrentId","classes","dispatch","Likes","likes","length","find","like","result","_id","card","media","selectedFile","title","overlay","name","cretedAt","fromNow","overlay2","color","details","tags","map","tag","message","cardActions","creator"],"sources":["C:/Kursova_prject/client/src/components/Posts/Post/Post.js"],"sourcesContent":["import React from \"react\";\r\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography } from \"@material-ui/core\";\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport ThumbUpAltOutlined from '@material-ui/icons/ThumbUpAltOutlined';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz'\r\nimport moment from 'moment'\r\nimport useStyles from \"./styles\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { deletePost, likePost } from \"../../../actions/posts\";\r\n    \r\nconst user = JSON.parse(localStorage.getItem('profile'));  \r\nconst Post = ({post, setCurrentId}) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    const Likes = () => {\r\n        if (post.likes.length > 0) {\r\n          return post.likes.find((like) => like === user?.result?._id)\r\n            ? (\r\n              <><ThumbUpAltIcon fontSize=\"small\" />&nbsp;{post.likes.length > 2 ? `You and ${post.likes.length - 1} others` : `${post.likes.length} like${post.likes.length > 1 ? 's' : ''}` }</>\r\n            ) : (\r\n              <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;{post.likes.length} {post.likes.length === 1 ? 'Like' : 'Likes'}</>\r\n            );\r\n        }\r\n    \r\n        return <><ThumbUpAltOutlined fontSize=\"small\" />&nbsp;Like</>;\r\n      };\r\n    return(\r\n        <Card className={classes.card}>\r\n            <CardMedia className={classes.media} image={post.selectedFile} title={post.title} />\r\n            <div className={classes.overlay}>\r\n                <Typography variant=\"h6\">{post.name}</Typography>\r\n                <Typography variant=\"body2\">{moment(post.cretedAt).fromNow()}</Typography>\r\n            </div>\r\n            <div className={classes.overlay2}>\r\n                <Button style={{color: 'white'}} size=\"small\" onClick={() => setCurrentId(post._id)}>\r\n                    <MoreHorizIcon fontSize=\"medium\" />\r\n                </Button>\r\n            </div>\r\n            <div className={classes.details}>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">{post.tags.map((tag) => `#${tag} `)}</Typography>\r\n            </div>\r\n                <Typography className={classes.title} variant=\"h5\" gutterBottom>{post.title}</Typography>\r\n            <CardContent>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">{post.message}</Typography>\r\n            </CardContent>\r\n            <CardActions className={classes.cardActions}>\r\n                <Button size=\"small\" color=\"primary\" disabled={!user?.result} onClick={() => dispatch(likePost(post._id))}>\r\n                    <Likes/>\r\n                </Button>\r\n                {(user?.result?._id === post?.creator) && (\r\n\r\n                <Button size=\"small\" color=\"primary\" onClick={() => dispatch(deletePost(post._id))}>\r\n                    <DeleteIcon fontSize=\"small\"/>\r\n                    Delete\r\n                </Button>\r\n                )}\r\n            </CardActions>\r\n        </Card>\r\n    )\r\n}\r\n\r\n\r\nexport default Post; "],"mappings":"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"},"metadata":{},"sourceType":"module"}